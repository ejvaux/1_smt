<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

use App\ProdLine;
use App\ProcessList;
use App\errorcodelist;
use App\modelSMT;
use App\LRPosition;
use App\mounter;
use App\employee;
use App\machine;
use App\lineSMT;
use App\Http\Controllers\MES\model\LineName;
use App\Http\Controllers\MES\model\Component;

use App\Models\MatComp;
use App\Models\MatSnComp;
use App\Models\Pcb;

class PageController extends Controller
{
    //
    public function scan(){

        $pline=ProdLine::all();
        $processlist=ProcessList::all();
        $ecode=errorcodelist::all();
        $data="";
        
        return view('pages.scan.scanpage',compact('pline','processlist','ecode','data'));
    }


    public function mscan(){

        $models=modelSMT::all();
        $position=LRPosition::all();
        $mounter=mounter::all();
        $emp=employee::all();
        $mounters=mounter::all();
        $machine=machine::all();
        $line=lineSMT::all();
        $data="";
        
        return view('pages.materials.mscan',compact('models','position','mounter','emp','mounters','machine','line'));
    }
    public function mscan2(){

        $models=modelSMT::all();
        $position=LRPosition::all();
        $mounter=mounter::all();
        $emp=employee::all();
        $mounters=mounter::all();
        $machine=machine::all();
        $line=lineSMT::all();
        $lines2 = LineName::orderBy('division_id')->get();
        $data="";
        
        return view('pages.materials.mscan2',compact(
            'models',
            'position',
            'mounter',
            'emp',
            'mounters',
            'machine',
            'line',
            'lines2'
        ));
    }

    public function errorlogs(){

        $models=modelSMT::all();
        $position=LRPosition::all();
        $mounter=mounter::all();
        $emp=employee::all();
        $mounters=mounter::all();
        $machine=machine::all();
        $line=lineSMT::all();
        $data="";
        
        return view('pages.materials.errorlogs',compact('models','position','mounter','emp','mounters','machine','line'));
    }

    public function testing()
    {
        $snrid = [];
        $sns = [
        'M.CK29644A61',
        'M.CK296B1609',
        'M.CK296B2BDC',
        'M.CK296I6CE9',
        'M.CK297650DB',
        'M.CK29765E68',
        'M.CK29769C54',
        'M.CK297B0086',
        'M.CK297B00B9',
        'M.CK297B00D1',
        'M.CK297B00D7',
        'M.CK297B0101',
        'M.CK297B012D',
        'M.CK297B017C',
        'M.CK297B02D8',
        'M.CK297B02FC',
        'M.CK297B03B5',
        'M.CK297B03C7',
        'M.CK297B03E2',
        'M.CK297B03E3',
        'M.CK297B0459',
        'M.CK297B05FF',
        'M.CK297B06A7',
        'M.CK297B0B26',
        'M.CK297B0C0E',
        'M.CK297B1FD7',
        'M.CK297B2F72',
        'M.CK297B41EA',
        'M.CK297B4E43',
        'M.CK297B683B',
        'M.CK297J000C',
        'M.CK297J0034',
        'M.CK297J003A',
        'M.CK297J007C',
        'M.CK297J007E',
        'M.CK297J0080',
        'M.CK297J00A5',
        'M.CK297J00AD',
        'M.CK297J00CA',
        'M.CK297J00DD',
        'M.CK297J00F4',
        'M.CK297J00FB',
        'M.CK297J014B',
        'M.CK297J01ED',
        'M.CK297J024A',
        'M.CK297J026E',
        'M.CK297J02D5',
        'M.CK297J0335',
        'M.CK297J0352',
        'M.CK297J0364',
        'M.CK297J036C',
        'M.CK297J0370',
        'M.CK297J038D',
        'M.CK297J03C9',
        'M.CK297J03DC',
        'M.CK297J03FD',
        'M.CK297J03FF',
        'M.CK297J0409',
        'M.CK297J0415',
        'M.CK297J042B',
        'M.CK297J04A3',
        'M.CK297J04A9',
        'M.CK297J04AB',
        'M.CK297J04C4',
        'M.CK297J0506',
        'M.CK297J050B',
        'M.CK297J0517',
        'M.CK297J051B',
        'M.CK297J0535',
        'M.CK297J0550',
        'M.CK297J0565',
        'M.CK297J0572',
        'M.CK297J0585',
        'M.CK297J05A3',
        'M.CK297J05B0',
        'M.CK297J05B2',
        'M.CK297J05B5',
        'M.CK297J05B7',
        'M.CK297J05BF',
        'M.CK297J05D0',
        'M.CK297J05D4',
        'M.CK297J05DA',
        'M.CK297J05EC',
        'M.CK297J061E',
        'M.CK297J063A',
        'M.CK297J0647',
        'M.CK297J0659',
        'M.CK297J0665',
        'M.CK297J0689',
        'M.CK297J069B',
        'M.CK297J06AA',
        'M.CK297J06B5',
        'M.CK297J06CD',
        'M.CK297J06E3',
        'M.CK297J06F3',
        'M.CK297J070D',
        'M.CK297J073F',
        'M.CK297J0750',
        'M.CK297J075F',
        'M.CK297J0766',
        'M.CK297J0768',
        'M.CK297J0771',
        'M.CK297J077D',
        'M.CK297J078E',
        'M.CK297J0795',
        'M.CK297J07C2',
        'M.CK297J07C4',
        'M.CK297J07CA',
        'M.CK297J081D',
        'M.CK297J0833',
        'M.CK297J086F',
        'M.CK297J0872',
        'M.CK297J0878',
        'M.CK297J088F',
        'M.CK297J08C2',
        'M.CK297J08C3',
        'M.CK297J08C4',
        'M.CK297J08CD',
        'M.CK297J08D0',
        'M.CK297J08F0',
        'M.CK297J0912',
        'M.CK297J091C',
        'M.CK297J0923',
        'M.CK297J0947',
        'M.CK297J0955',
        'M.CK297J097A',
        'M.CK297J0988',
        'M.CK297J09AE',
        'M.CK297J09B2',
        'M.CK297J09B5',
        'M.CK297J09B6',
        'M.CK297J09CA',
        'M.CK297J09CF',
        'M.CK297J09F4',
        'M.CK297J0A18',
        'M.CK297J0AC1',
        'M.CK297J0AD2',
        'M.CK297J0B57',
        'M.CK297J0BB3',
        'M.CK297J0BC0',
        'M.CK297J0BDF',
        'M.CK297J0C03',
        'M.CK297J0C42',
        'M.CK297J0C97',
        'M.CK297J0CE5',
        'M.CK297J0CEF',
        'M.CK297J0CF3',
        'M.CK297J0D3B',
        'M.CK297J0D67',
        'M.CK297J0D6D',
        'M.CK297J0D7A',
        'M.CK297J0D94',
        'M.CK297J0DB0',
        'M.CK297J0E23',
        'M.CK297J0E39',
        'M.CK297J0E6E',
        'M.CK297J0E90',
        'M.CK297J0E92',
        'M.CK297J0ED0',
        'M.CK297J0ED3',
        'M.CK297J0ED5',
        'M.CK297J0EEE',
        'M.CK297J0F0E',
        'M.CK297J0F1B',
        'M.CK297J0F1D',
        'M.CK297J0F32',
        'M.CK297J0F69',
        'M.CK297J0F6D',
        'M.CK297J0F9E',
        'M.CK297J0FC6',
        'M.CK297J0FFE',
        'M.CK297J103E',
        'M.CK297J1049',
        'M.CK297J106F',
        'M.CK297J1076',
        'M.CK297J1087',
        'M.CK297J10B4',
        'M.CK297J10C9',
        'M.CK297J10F6',
        'M.CK297J1112',
        'M.CK297J1114',
        'M.CK297J1124',
        'M.CK297J1135',
        'M.CK297J1147',
        'M.CK297J1156',
        'M.CK297J115E',
        'M.CK297J1170',
        'M.CK297J1186',
        'M.CK297J1188',
        'M.CK297J119D',
        'M.CK297J11D7',
        'M.CK297J120F',
        'M.CK297J124A',
        'M.CK297J124D',
        'M.CK297J1265',
        'M.CK297J1295',
        'M.CK297J1296',
        'M.CK297J12C5',
        'M.CK297J12EA',
        'M.CK297J12F1',
        'M.CK297J1382',
        'M.CK297J13E0',
        'M.CK297J1428',
        'M.CK297J146B',
        'M.CK297J1471',
        'M.CK297J149A',
        'M.CK297J14D3',
        'M.CK297J1592',
        'M.CK297J1601',
        'M.CK297J1626',
        'M.CK297J1705',
        'M.CK297J1723',
        'M.CK297J1725',
        'M.CK297J1729',
        'M.CK297J175B',
        'M.CK297J17BE',
        'M.CK297J17FB',
        'M.CK297J1800',
        'M.CK297J1806',
        'M.CK297J1844',
        'M.CK297J1870',
        'M.CK297J18D5',
        'M.CK297J18DB',
        'M.CK297J19C7',
        'M.CK297J19F6',
        'M.CK297J1ABF',
        'M.CK297J1BEF',
        'M.CK297J1C76',
        'M.CK297J1C98',
        'M.CK297J1CBE',
        'M.CK297J1CFD',
        'M.CK297J1E0A',
        'M.CK297J1E29',
        'M.CK297J1E44',
        'M.CK297J1E59',
        'M.CK297J1EC6',
        'M.CK297J1F3D',
        'M.CK297J1F81',
        'M.CK297J1F98',
        'M.CK297J1FF6',
        'M.CK297J1FF7',
        'M.CK297J2007',
        'M.CK297J2044',
        'M.CK297J2046',
        'M.CK297J2056',
        'M.CK297J20A2',
        'M.CK297J20E7',
        'M.CK297J210C',
        'M.CK297J2115',
        'M.CK297J2137',
        'M.CK297J215F',
        'M.CK297J2197',
        'M.CK297J2198',
        'M.CK297J21B8',
        'M.CK297J6DFA',
        'M.CK297J6E1B',
        'M.CK297J6EDB',
        'M.CK297J6EDD',
        'M.CK297J6EE3',
        'M.CK297J6EE4',
        'M.CK297J6EFB',
        'M.CK297J6EFD',
        'M.CK297J6F20',
        'M.CK297J6F36',
        'M.CK297J6F43',
        'M.CK297J6F46',
        'M.CK297J6F80',
        'M.CK297J6FC6',
        'M.CK297J7008',
        'M.CK297J7030',
        'M.CK297J710E',
        'M.CK297J7165',
        'M.CK297J7179',
        'M.CK297J71DB',
        'M.CK297J71E1',
        'M.CK297J71F1',
        'M.CK297J7223',
        'M.CK297J723C',
        'M.CK297J725D',
        'M.CK297J726C',
        'M.CK297J7282',
        'M.CK297J72BC',
        'M.CK297J72CE',
        'M.CK297J72FC',
        'M.CK297J7307',
        'M.CK297J735E',
        'M.CK297J73CE',
        'M.CK297J73DB',
        'M.CK297J73DF',
        'M.CK297J73FA',
        'M.CK297J743A',
        'M.CK297J746F',
        'M.CK297J7471',
        'M.CK297J7473',
        'M.CK297J74A3',
        'M.CK297J74BD',
        'M.CK297J74F0',
        'M.CK297J7507',
        'M.CK297J7577',
        'M.CK297J75AA',
        'M.CK297J75CB',
        'M.CK297J75D2',
        'M.CK297J764D',
        'M.CK297J765E',
        'M.CK297J7676',
        'M.CK297J76D7',
        'M.CK297J771E',
        'M.CK297J7720',
        'M.CK297J7747',
        'M.CK297J7753',
        'M.CK297J7791',
        'M.CK297J77B4',
        'M.CK297J77B6',
        'M.CK297J77C7',
        'M.CK297J77D4',
        'M.CK297J77FF',
        'M.CK297J783B',
        'M.CK297J7857',
        'M.CK297J7871',
        'M.CK297J7886',
        'M.CK297J7888',
        'M.CK297J788B',
        'M.CK297J78B6',
        'M.CK297J78C5',
        'M.CK297J78CE',
        'M.CK297J78FB',
        'M.CK297J790E',
        'M.CK297J790F',
        'M.CK297J7913',
        'M.CK297J7922',
        'M.CK297J7973',
        'M.CK297J79E7',
        'M.CK297J79EB',
        'M.CK297J7A6E',
        'M.CK297J7A97',
        'M.CK297J7AA9',
        'M.CK297J7ABE',
        'M.CK297J7ACD',
        'M.CK297J7AFC',
        'M.CK297J7B0F',
        'M.CK297J7B34',
        'M.CK297J7B3E',
        'M.CK297J7B54',
        'M.CK297J7B6B',
        'M.CK297J7B70',
        'M.CK297J7B81',
        'M.CK297J7C04',
        'M.CK297J7C12',
        'M.CK297J7C4B',
        'M.CK297J7C5A',
        'M.CK297J7DFC',
        'M.CK297J7F08',
        'M.CK297J7F2D',
        'M.CK297J7F73',
        'M.CK297J81AD',
        'M.CK297J8282',
        'M.CK297J828F',
        'M.CK297J82F9',
        'M.CK297J830A',
        'M.CK297J8384',
        'M.CK297J8393',
        'M.CK297J8395',
        'M.CK297J8398',
        'M.CK297J83A5',
        'M.CK297J83B2',
        'M.CK297J83B4',
        'M.CK297J83C3',
        'M.CK297J8426',
        'M.CK297J843A',
        'M.CK297J844F',
        'M.CK297J848A',
        'M.CK297J84AE',
        'M.CK297J84C0',
        'M.CK297J84EC',
        'M.CK297J8527',
        'M.CK297J853A',
        'M.CK297J8593',
        'M.CK297J859A',
        'M.CK297J8617',
        'M.CK297J8621',
        'M.CK297J8624',
        'M.CK297J862A',
        'M.CK297J865E',
        'M.CK297J8676',
        'M.CK297J8702',
        'M.CK297J8705',
        'M.CK297J8736',
        'M.CK297J8748',
        'M.CK297J8781',
        'M.CK297J8797',
        'M.CK297J87C3',
        'M.CK297J87C5',
        'M.CK297J87DB',
        'M.CK297J87DC',
        'M.CK297J87E1',
        'M.CK297J87FA',
        'M.CK297J8831',
        'M.CK297J8835',
        'M.CK297J88DA',
        'M.CK297J88F8',
        'M.CK297J88FF',
        'M.CK297J8903',
        'M.CK297J8909',
        'M.CK297J891E',
        'M.CK297J8939',
        'M.CK297J894F',
        'M.CK297J8952',
        'M.CK297J89C5',
        'M.CK297J89C7',
        'M.CK297J89D8',
        'M.CK297J89E5',
        'M.CK297J8A00',
        'M.CK297J8A03',
        'M.CK297J8A10',
        'M.CK297J8A14',
        'M.CK297J8A19',
        'M.CK297J8A8E',
        'M.CK297J8AAE',
        'M.CK297J8AB9',
        'M.CK297J8ACA',
        'M.CK297J8AEC',
        'M.CK297J8B09',
        'M.CK297J8B19',
        'M.CK297J8B2F',
        'M.CK297J8B34',
        'M.CK297J8B3A',
        'M.CK297J8B4D',
        'M.CK297J8B65',
        'M.CK297J8B6B',
        'M.CK297J8B79',
        'M.CK297J8BC5',
        'M.CK297J8BCE',
        'M.CK297J8BF1',
        'M.CK297J8C01',
        'M.CK297J8C3E',
        'M.CK297J8D1F',
        'M.CK297J8D39',
        'M.CK297J8D54',
        'M.CK297J8D7B',
        'M.CK297J8D90',
        'M.CK297J8DCC',
        'M.CK297J8DF7',
        'M.CK297J8E39',
        'M.CK297J8E65',
        'M.CK297J8E87',
        'M.CK297J8EBC',
        'M.CK297J8ECA',
        'M.CK297J8EFC',
        'M.CK297J8F14',
        'M.CK297J8F31',
        'M.CK297J8F6D',
        'M.CK297J8F7C',
        'M.CK297J8F9A',
        'M.CK297J902C',
        'M.CK297J9053',
        'M.CK297J908A',
        'M.CK297J908E',
        'M.CK297J9098',
        'M.CK297J90CF',
        'M.CK297J90D3',
        'M.CK297J90FF',
        'M.CK297J9128',
        'M.CK297J912C',
        'M.CK297J9184',
        'M.CK297J91B6',
        'M.CK297J921E',
        'M.CK297J922A',
        'M.CK297J922B',
        'M.CK297J923B',
        'M.CK297J923E',
        'M.CK297J929C',
        'M.CK297J92D9',
        'M.CK297J92EE',
        'M.CK297J92F5',
        'M.CK297J9308',
        'M.CK297J9310',
        'M.CK297J93BF',
        'M.CK297J93C8',
        'M.CK297J93CC',
        'M.CK297J93F9',
        'M.CK297J9404',
        'M.CK297J9447',
        'M.CK297J94BB',
        'M.CK297J94D4',
        'M.CK297J94E0',
        'M.CK297J9531',
        'M.CK297J9539',
        'M.CK297J956B',
        'M.CK297J9582',
        'M.CK297J9585',
        'M.CK297J95A0',
        'M.CK297J95D3',
        'M.CK297J95DC',
        'M.CK297J9633',
        'M.CK297J9635',
        'M.CK297J965D',
        'M.CK297J9672',
        'M.CK297J9697',
        'M.CK297J9699',
        'M.CK297J96A7',
        'M.CK297J96BE',
        'M.CK297J96C0',
        'M.CK297J9727',
        'M.CK297J9736',
        'M.CK297J978A',
        'M.CK297J9791',
        'M.CK297J979E',
        'M.CK297J97A1',
        'M.CK297J97A6',
        'M.CK297J97E3',
        'M.CK297J97EE',
        'M.CK297J97F4',
        'M.CK297J980E',
        'M.CK297J982D',
        'M.CK297J9836',
        'M.CK297J98A4',
        'M.CK297J9954',
        'M.CK297J998B',
        'M.CK297J99AF',
        'M.CK297J99DD',
        'M.CK297J9A11',
        'M.CK297J9AAA',
        'M.CK297J9AEF',
        'M.CK297J9B3C',
        'M.CK297J9B53',
        'M.CK297J9B5B',
        'M.CK297J9B66',
        'M.CK297J9BA0',
        'M.CK297J9BB6',
        'M.CK297J9BD2',
        'M.CK297J9BF8',
        'M.CK297J9BF9',
        'M.CK297J9C2C',
        'M.CK297J9C32',
        'M.CK297J9C3D',
        'M.CK297J9C50',
        'M.CK297J9CBE',
        'M.CK297J9CC0',
        'M.CK297J9CF7',
        'M.CK297J9D74',
        'M.CK297J9D8D',
        'M.CK297J9DA6',
        'M.CK297J9DDA',
        'M.CK297J9DDF',
        'M.CK297J9DEB',
        'M.CK297J9E0D',
        'M.CK297J9E16',
        'M.CK297J9E17',
        'M.CK297J9E39',
        'M.CK297J9E49',
        'M.CK297J9E58',
        'M.CK297J9E5E',
        'M.CK297J9E7F',
        'M.CK297J9E8C',
        'M.CK297J9EB1',
        'M.CK297J9EB9',
        'M.CK297J9EDD',
        'M.CK297J9EE3',
        'M.CK297J9EE4',
        'M.CK297J9EF1',
        'M.CK297J9F7C',
        'M.CK297J9FE8',
        'M.CK297J9FEA',
        'M.CK297J9FFF',
        'M.CK297JA036',
        'M.CK297JA0B6',
        'M.CK297JA0C1',
        'M.CK297JA101',
        'M.CK297JA138',
        'M.CK297JA16B',
        'M.CK297JA173',
        'M.CK297JA1A2',
        'M.CK297JA1B0',
        'M.CK297JA1B5',
        'M.CK297JA1B7',
        'M.CK297JA1CF',
        'M.CK297JA1D3',
        'M.CK297JA1DF',
        'M.CK297JA1EB',
        'M.CK297JA205',
        'M.CK297JA217',
        'M.CK297JA26B',
        'M.CK297JA26D',
        'M.CK297JA274',
        'M.CK297JA27A',
        'M.CK297JA297',
        'M.CK297JA2DC',
        'M.CK297JA2E2',
        'M.CK297JA2FF',
        'M.CK297JA33B',
        'M.CK297JA375',
        'M.CK297JA3A6',
        'M.CK297JA3CD',
        'M.CK297JA3DB',
        'M.CK297JA3F5',
        'M.CK297JA407',
        'M.CK297JA463',
        'M.CK297JA4A4',
        'M.CK297JA4D5',
        'M.CK297JA512',
        'M.CK297JA516',
        'M.CK297JA57A',
        'M.CK297JA58E',
        'M.CK297JA591',
        'M.CK297JA59A',
        'M.CK297JA5A4',
        'M.CK297JA5B8',
        'M.CK297JA5CB',
        'M.CK297JA5D1',
        'M.CK297JA616',
        'M.CK297JA64A',
        'M.CK297JA652',
        'M.CK297JA659',
        'M.CK297JA6BF',
        'M.CK297JA6CD',
        'M.CK297JA6DD',
        'M.CK297JA70D',
        'M.CK297JA73C',
        'M.CK297JA74D',
        'M.CK297JA769',
        'M.CK297JA78A',
        'M.CK297JA797',
        'M.CK297JA7A5',
        'M.CK297JA7A8',
        'M.CK297JA7C2',
        'M.CK297JA7DE',
        'M.CK297JA857',
        'M.CK297JA866',
        'M.CK297JA867',
        'M.CK297JA879',
        'M.CK297P0911',
        'M.CK297P0921',
        'M.CK297P0923',
        'M.CK297P0937',
        'M.CK297P0984',
        'M.CK297P0A4B',
        'M.CK297P0A97',
        'M.CK297P0AA7',
        'M.CK297P0B36',
        'M.CK297P0B6C',
        'M.CK297P0BD4',
        'M.CK297P0BFA',
        'M.CK297P0C28',
        'M.CK297P0C39',
        'M.CK297P0C3C',
        'M.CK297P0C5B',
        'M.CK297P0C6F',
        'M.CK297P0C70',
        'M.CK297P0C88',
        'M.CK297P0CB2',
        'M.CK297P0CC8',
        'M.CK297P0CCE',
        'M.CK297P0CD1',
        'M.CK297P0CEF',
        'M.CK297P0CF0',
        'M.CK297P0D14',
        'M.CK297P0D1F',
        'M.CK297P0D2E',
        'M.CK297P0D34',
        'M.CK297P0D44',
        'M.CK297P0D8D',
        'M.CK297P0DAB',
        'M.CK297P0DD1',
        'M.CK297P0E15',
        'M.CK297P0E2A',
        'M.CK297P0E49',
        'M.CK297P0E53',
        'M.CK297P0E5A',
        'M.CK297P0E62',
        'M.CK297P0EAB',
        'M.CK297P0EB4',
        'M.CK297P0EC9',
        'M.CK297P0ECB',
        'M.CK297P0EDA',
        'M.CK297P0EE1',
        'M.CK297P0F06',
        'M.CK297P0F07',
        'M.CK297P0F16',
        'M.CK297P0F6B',
        'M.CK297P0F7F',
        'M.CK297P0F8E',
        'M.CK297P1007',
        'M.CK297P1012',
        'M.CK297P1026',
        'M.CK297P1028',
        'M.CK297P1036',
        'M.CK297P1041',
        'M.CK297P104D',
        'M.CK297P107C',
        'M.CK297P10B0',
        'M.CK297P10B2',
        'M.CK297P10B7',
        'M.CK297P10C7',
        'M.CK297P10D4',
        'M.CK297P10E8',
        'M.CK297P1103',
        'M.CK297P11A7',
        'M.CK297P11AF',
        'M.CK297P11C7',
        'M.CK297P1253',
        'M.CK297P1255',
        'M.CK297P1264',
        'M.CK297P127C',
        'M.CK297P1284'
        ];

        $mats = MatSnComp::where('component_id',459)->get();

        foreach ($mats as $mat) {
            foreach($mat->sn as $m){
                foreach ($sns as $sn) {
                    if($m == $sn){
                        $snrid[$sn] = $mat->RID;
                    }
                }
                
            }
        }
        return $snrid;
    }

}
